{% extends 'core/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
<!-- <link type="text/css" rel="stylesheet" href="{% static 'css/plantillacsshome.css' %}" /> -->

<div class="form">
    <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
    </ul>

    <div class="tab-content">
        <!-- Sign Up Form -->
        <div id="signup" class="tab-pane active-pane">
            <h1>Sign Up for Free</h1>
            <form action="/" method="post">
                {% csrf_token %}
                
                <div class="field-wrap">
                    <input type="text" name="username" required autocomplete="off" placeholder="Username" />
                </div>
                <div class="top-row">
                    <div class="field-wrap">
                        <input type="text" name="first_name" required autocomplete="off" placeholder="First name" />
                    </div>
                    <div class="field-wrap">
                        <input type="text" name="last_name" required autocomplete="off" placeholder="Last name"/>
                    </div>
                </div>
                <div class="field-wrap">
                    <input type="email" name="email" required autocomplete="off" placeholder="Email Address"/>
                </div>
                <div class="field-wrap">
                    <input type="password" name="password" required autocomplete="off" placeholder="Set a password" />
                </div>

                <button type="submit" class="button button-block">Get Started</button>
            </form>
        </div>

        <!-- Log In Form -->
        <div id="login" class="tab-pane">
            <h1>Welcome Back!</h1>

            <form action="" method="post">
                {% csrf_token %}
                <div class="field-wrap">
                    <input type="text" name="username" required autocomplete="off" placeholder="Nombre del Usuario" />
                </div>
                <div class="field-wrap">
                    <input type="password" name="password" required autocomplete="off" placeholder="ContraseÃ±a" />
                </div>

                <p class="forgot"><a href="#">Forgot Password?</a></p>
                <button type="submit" class="button button-block">Log In</button>
            </form>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const tabs = document.querySelectorAll(".tab a");
        const panes = document.querySelectorAll(".tab-pane");

        // Reset display of panes: show active, hide others
        panes.forEach((pane, index) => {
            pane.style.display = index === 0 ? "block" : "none";
        });

        tabs.forEach((tab, index) => {
            tab.addEventListener("click", function(event) {
                event.preventDefault();
                
                // Set active tab
                tabs.forEach(t => t.parentElement.classList.remove("active"));
                tab.parentElement.classList.add("active");

                // Show current tab content and hide others
                panes.forEach(pane => pane.style.display = "none");
                panes[index].style.display = "block";
            });
        });
    });
</script>

{% endblock %}
